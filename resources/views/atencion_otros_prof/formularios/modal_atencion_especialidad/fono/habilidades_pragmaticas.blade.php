<div id="h_pragmati" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="h_pragmati" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header bg-info">
                <h5 class="modal-title text-white mt-1" id="modal_eval_hab_preart">HABILIDADES PRAGMÁTICAS</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Cinética</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Usa gestos adecuados para comunicarse</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="cinetica" id="cinetica">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Proxémica</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Mantiene distancias y posturas</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="proxemica" id="proxemica">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Intención</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Comunica sus deseos y/o necesidades</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="intencion" id="intencion">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Contacto Visual </H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Mantiene contacto visual adecuado</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="cont_visual" id="cont_visual">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Expresión Facial  </H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Corresponde al mensaje e interpreta expresiones</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="expr_facial" id="expr_facial">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Facultades Conversacionales   </H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Sabe conversar, iniciar, responder, preguntar, interrumpir, etc</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="facult_conversacion" id="facult_conversacion">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Variaciones Estilísticas </H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Adapta su conversación al auditorio y a las circunstancias</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="vari_estilisticas" id="vari_estilisticas">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Alternancia Recíproca  </H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Sabe mantener un diálogo</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="alter_reciproca" id="alter_reciproca">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Tematización</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Puede mantenerse en el tema</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="tematizacion" id="tematizacion">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Peticiones</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Formula peticiones completas</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="peticiones" id="peticiones">
                                <option value="1">Adecuada</option>
                                <option value="2">Alterada</option>
                                <option value="3">Muy alterada</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-sm-4 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Aclaración y Reparación</H6>
                        </div>
                    </div>
                    <div class="col-sm-6 mt-2">
                        <div class="form-group fill">
                            <H6 class="form_fono"> Pide y entrega aclaraciones en caso de dudas</H6>
                        </div>
                    </div>
                    <div class="col-sm-2 mt-2">
                        <div class="form-group fill">
                            <select class="form-control form-control-sm" name="aclara_repara" id="aclara_repara">
                                <option value="1">SI</option>
                                <option value="2">NO</option>
                                <option value="3">A VECES</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 mt-4">
                    <div class="form-group fill">
                        <label id="" name="" class="floating-label-activo-sm">Otros y Observaciones</label>
                        <textarea class="form-control form-control-sm" rows="1" onfocus="this.rows=4" onblur="this.rows=1;" name="obs_generales" id="obs_generales"></textarea>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-info" onclick="registrar_h_pragatica();">Guardar</button>
            </div>
        </div>
    </div>
</div>
<script>
    function pragma() {
        $('#h_pragmati').modal('show');
    }

    function registrar_h_pragatica()
    {
        var id_ficha_otros_prof = $('#id_fc').val();
        var id_ficha_fono = '';
        var id_paciente = $('#id_paciente_fc').val();
        var id_profesional = $('#id_profesional_fc').val();

        var cinetica = $('#cinetica').val(); // - select-one
        var proxemica = $('#proxemica').val(); // - select-one
        var intencion = $('#intencion').val(); // - select-one
        var cont_visual = $('#cont_visual').val(); // - select-one
        var expr_facial = $('#expr_facial').val(); // - select-one
        var facult_conversacion = $('#facult_conversacion').val(); // - select-one
        var vari_estilisticas = $('#vari_estilisticas').val(); // - select-one
        var alter_reciproca = $('#alter_reciproca').val(); // - select-one
        var tematizacion = $('#tematizacion').val(); // - select-one
        var peticiones = $('#peticiones').val(); // - select-one
        var aclara_repara = $('#aclara_repara').val(); // - select-one
        var obs_generales = $('#obs_generales').val(); // - textarea

        var url = "{{ route('ficha.otro.prof.registro.habilidad.pragmatica') }}";

        $.ajax({
            url: url,
            type: "post",
            data: {
                    _token: CSRF_TOKEN,
                    id_ficha_otros_prof:id_ficha_otros_prof,
                    id_ficha_fono:id_ficha_fono,
                    id_paciente:id_paciente,
                    id_profesional:id_profesional,
                    cinetica:cinetica,
                    proxemica:proxemica,
                    intencion:intencion,
                    cont_visual:cont_visual,
                    expr_facial:expr_facial,
                    facult_conversacion:facult_conversacion,
                    vari_estilisticas:vari_estilisticas,
                    alter_reciproca:alter_reciproca,
                    tematizacion:tematizacion,
                    peticiones:peticiones,
                    aclara_repara:aclara_repara,
                    obs_generales:obs_generales,
                },
            })
        .done(function(data) {
            if (data.estado == 1)
            {

                $('#h_pragmati').modal('hide');
                limpiar_h_pragatica();
                swal({
                    title: "Registro de Habilidad Pragmaticas",
                    text: "Carga Exitosa.",
                    icon: "success"
                });
            }
            else
            {
                swal({
                    title: "Registro de Habilidad Pragmaticas",
                    text: "Error al registrar",
                    icon: "error"
                });
            }

        })
        .fail(function(jqXHR, ajaxOptions, thrownError) {
            console.log(jqXHR, ajaxOptions, thrownError)
        });
    }

    function limpiar_h_pragatica()
    {
        $('#cinetica').val(1); // - select-one
        $('#proxemica').val(1); // - select-one
        $('#intencion').val(1); // - select-one
        $('#cont_visual').val(1); // - select-one
        $('#expr_facial').val(1); // - select-one
        $('#facult_conversacion').val(1); // - select-one
        $('#vari_estilisticas').val(1); // - select-one
        $('#alter_reciproca').val(1); // - select-one
        $('#tematizacion').val(1); // - select-one
        $('#peticiones').val(1); // - select-one
        $('#aclara_repara').val(1); // - select-one
        $('#obs_generales').val(''); // - textarea
    }
</script>
